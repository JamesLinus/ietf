<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>

<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc strict="yes" ?>
<?rfc compact="yes" ?>
<?rfc sortrefs="yes" ?>
<?rfc colonspace="no" ?>
<?rfc rfcedstyle="no" ?>
<?rfc tocdepth="4"?>

<rfc category="info" docName="draft-jennings-rtcweb-plan-00"
     ipr="noDerivativesTrust200902">
  <front>
    <title abbrev="RTCWeb Plan"> Proposed Plan for Uasge of SDP and RTP </title>

    <author fullname="Cullen Jennings" initials="C." surname="Jennings">
      <organization>Cisco</organization>

      <address>
        <postal>
          <street>400 3rd Avenue SW, Suite 350</street>

          <city>Calgary</city>

          <region>AB</region>

          <code>T2P 4H2</code>

          <country>Canada</country>
        </postal>

        <email>fluffy@iii.ca</email>
      </address>
    </author>

    <date day="17" month="February" year="2013" />

    <area>RAI</area>

    <abstract>
      <t> This draft outlines a bunch of the remaining issues in RTCWeb related
      to how the the W3C APIs map to varios usages ofRTP and the asscoated
      SDP. It proposes one possibely soltuions to that problem and outlines
      several chunks of work that would need to be put into other drafts or
      result in new drafts being written. The underlying design guidline if to,
      as much as possible, just re-used what is allready defined in existing SDP
      and RTP specifications. </t>
      <t> This draft is not intended to become an specifiction but is meant for
      working group discution to help build the specifications. It is ebing
      discussed on the webrtc@ietf.org mailing list thought it has topics
      relating to the CLUE WG, MMUSIC WG, AVT* WG, and WebRTC WG at W3C.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>

The reoccuring theme of this draft is that SDP allready has a way of solving the
problems we are looking at and all we should do is use that way and not try and
invent something new.

This does results in lots of m lines but all the laternatives resulted in an
nearly equivelent number of ssrc lines so it's really hard to see the big
difference. This assumes that it is perfeclty feasiable to transport SDP that
much larger than a single MTU. The SIP usage of SDP passed over that long
ago. IN the cases where the SDP is passed over web mechaisms, it is easy to use
compression.



</t>
    </section>

 

    <section title="Terminology">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHOULD", "SHOULD NOT",
      "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
      interpreted as described in <xref target="RFC2119"></xref>.</t>

      <t>This draft uses the API and terminology described in <xref
      target="webrtc-api"></xref>.</t>

<t>
Transport-Flow (5-tuple RTP is flowing over )

PC-Track 

PC-Channel 

PC-Stream 

m-line 

m-block - a m-line and all the SDP grouped under it that occurs before the next
m-line in the SDP

Offer 

Answer 



This draft avoids using terms that implementors do not have a clear idea of
exactly what they are - for example RTP Session.


</t>

    </section>


  <section anchor="sec-todo" title="More Sections">
  
<t>
-------- Requirements 

The requirements listed here are a collection of requiements that have come from
WebRTC, CLUE, and the general community that uses RTP for interactive
communications based on Offer/Answer. It does not try to meet the needs of
streaming usages or usages invovling the use of multicast. This list does nto
try to list every possible requirement but instead outlines the ones that mgith
influence the design.


Devices with multiple cameras

Devices that display multiple streams of video 

Simulcast - meaning video from a single camera is sent in a few independed
vidieo streams typically at differnt resoltuions and framerates.

Layered Codecs such as H.264 SVC 

One way media flows and bi directional media flows 

Mapping W3C PeerConnection items to SDP and RTP. It is important that the SDP be
descriptive enough that both sides can get the same view of variaos lables for
PC-Tracks, PC-Streams and which PC-Tracks each PC-Stream contains.

Support for ICE 

Support for Multiplexing 

Syncronization - It needs to be clear how implemnations deal with synconizaion.
In particular both CNAME and LS group. The sender needs be able to indiecate
which Media Flows are intended to be syncronized and which are not.

Redudant codings - The ability to send some media, such as the audio from a
micrphone, multiple times. For example it may be sent with a high quality
wideband codec and a low bandwidth codec. If packets are lost from the high
bandwidht steam, the low bandwidth stream can be used to fill in the missing
gaps of audio. This is very simular to simulcast.

Forward Error Correction - Supprot for varios RTP FEC schemes. 

RSVP QoS - Abilyt to signal varions QoS mechissm such SRF group 

Disagregated Media (FID group) - There is agrowing desire to deal with endpoints
that are distributed - for example a video phone where the incoming video is
displayed on the an IP TV but the outgoing video comes from a tablet
computer. This results in situtations where the SDP sets up a situtation where
not all the media is going to the same IP address.

In flight change of codec: Support for system that can negotatei the uses of
more than one codec for a given media flow and then the sender can arbitrarily
switch between them when they are sending but they only send with one codec as
at time.

Sequential and parrallel forking at the SIP level 

Early media 

Conferncing environments where MCU are do full decode / mix / recode of media.
This is refered to as a Transcoding MCU.

Conferncing environments where the MCU simply muck with header information of
media and do not decode / recode all the media - This is refered to as a
Wwitching MCU.


--- Background 

Multiple codecs accepted on same m line - Consider follwing O/A pair 

Offer
      v=0
      o=alice 2890844526 2890844527 IN IP4 host.atlanta.example.com
      s=
      c=IN IP4 host.atlanta.example.com
      t=0 0
      m=audio 49170 RTP/AVP 99
      a=rtpmap:99 iLBC/8000
      m=video 51372 RTP/AVP 31 32
      a=rtpmap:31 H261/90000
      a=rtpmap:32 MPV/90000

Ans
      v=0
      o=bob 2808844564 2808844565 IN IP4 host.biloxi.example.com
      s=
      c=IN IP4 host.biloxi.example.com
      t=0 0
      m=audio 49172 RTP/AVP 99
      a=rtpmap:99 iLBC/8000
      m=video 51374 RTP/AVP 31 32
      a=rtpmap:31 H261/90000
      a=rtpmap:32 MPV/90000


This means that that sender can switch back and forth between H261 and MVP without any further singalling. The receiveiver is receiving both but they are jsut one video meant to be disolayed in a single window. Only one is sent at a time. 

---- Concepts 

Use what we have 

Allow the sender to provide enough information that the receive can do the right
thing


MSID ( or MID) 
- 32 bit integer 
- statistically or programatically unique to 5-tuple 
- 6 bits syncronization source num  
-    2 bits - media type 
- 25 bits sync context - random 
- 1 bit - side a/b

- layer 1,2,3,4 ..
- lowres, medres, highres 

--- Solutions 


SSRC, CSRC , assumption of roster information out of band 

Clue 3d coordiantes of source and view information 


What do do with unrecornized media that is received at PC level 


--------------

Tasks 

Content : left , right and way to set in w3c 

CSRC - way to set and get in w3c

way to read SSRC of last RTP packed received in a Track in w3c 


New MSID in RTP Header Extetion raft 

Fix up MSID to algign with this 

Add a group for simulcast ?



Complete Bundle 

Provide guidance for ways to use SDP for reduced glare adding of one way media
streams.

</t>
  </section>

    <section anchor="sec-sec" title="Security Considerations">
      <t>TBD</t>
    </section>
    <section title="IANA Considerations">
      <t>This document requires no actions from IANA.</t>
    </section>

    <section title="Acknowledgments">
      <t></t>
    </section>

    <section title="Open Issues">
      <t></t>
    </section>

  </middle>

  <back>
    <references title="Normative References">
  
      <reference anchor="RFC3264">
        <front>
          <title>An Offer/Answer Model with Session Description Protocol
          (SDP)</title>

          <author fullname="J. Rosenberg" initials="J." surname="Rosenberg">
            <organization></organization>
          </author>

          <author fullname="H. Schulzrinne" initials="H."
                  surname="Schulzrinne">
            <organization></organization>
          </author>

          <date month="June" year="2002" />
        </front>

        <seriesInfo name="RFC" value="3264" />

        <format octets="60854"
                target="http://www.rfc-editor.org/rfc/rfc3264.txt" type="TXT" />
      </reference>

      <reference anchor="RFC2119">
        <front>
          <title abbrev="RFC Key Words">Key words for use in RFCs to Indicate
          Requirement Levels</title>

          <author fullname="Scott Bradner" initials="S." surname="Bradner">
            <organization>Harvard University</organization>

            <address>
              <postal>
                <street>1350 Mass. Ave.</street>

                <street>Cambridge</street>

                <street>MA 02138</street>
              </postal>

              <phone>- +1 617 495 3864</phone>

              <email>sob@harvard.edu</email>
            </address>
          </author>

          <date month="March" year="1997" />

          <area>General</area>

          <keyword>keyword</keyword>
        </front>

        <seriesInfo name="BCP" value="14" />

        <seriesInfo name="RFC" value="2119" />

        <format octets="4723"
                target="http://www.rfc-editor.org/rfc/rfc2119.txt" type="TXT" />

        <format octets="17491"
                target="http://xml.resource.org/public/rfc/html/rfc2119.html"
                type="HTML" />

        <format octets="5777"
                target="http://xml.resource.org/public/rfc/xml/rfc2119.xml"
                type="XML" />
      </reference>

      <reference anchor="RFC4566">
        <front>
          <title>SDP: Session Description Protocol</title>

          <author fullname="M. Handley" initials="M." surname="Handley">
            <organization></organization>
          </author>

          <author fullname="V. Jacobson" initials="V." surname="Jacobson">
            <organization></organization>
          </author>

          <author fullname="C. Perkins" initials="C." surname="Perkins">
            <organization></organization>
          </author>

          <date month="July" year="2006" />
        </front>

        <seriesInfo name="RFC" value="4566" />

        <format octets="108820"
                target="http://www.rfc-editor.org/rfc/rfc4566.txt" type="TXT" />
      </reference>
    </references>

  

    
   <references title="Informative References">
 
   

      <reference anchor="webrtc-api">
        <front>
          <title>WebRTC 1.0: Real-time Communication Between Browsers</title>

          <author fullname="W3C editors"
                  surname="Bergkvist, Burnett, Jennings, Narayanan">
            <organization>W3C</organization>
          </author>

          <date day="4" month="October" year="2011" />
        </front>

        <annotation>Available at
        http://dev.w3.org/2011/webrtc/editor/webrtc.html</annotation>
      </reference>

      <reference anchor="I-D.ietf-rtcweb-use-cases-and-requirements">
        <front>
          <title>Web Real-Time Communication Use-cases and
          Requirements</title>

          <author fullname="Christer Holmberg" initials="C" surname="Holmberg">
            <organization></organization>
          </author>

          <author fullname="Stefan Hakansson" initials="S" surname="Hakansson">
            <organization></organization>
          </author>

          <author fullname="Goran Eriksson" initials="G" surname="Eriksson">
            <organization></organization>
          </author>

          <date day="4" month="October" year="2011" />

          <abstract>
            <t>This document describes web based real-time communication
            use-cases. Based on the use-cases, the document also derives
            requirements related to the browser, and the API used by web
            applications to request and control media stream services provided
            by the browser.</t>
          </abstract>
        </front>

        <seriesInfo name="Internet-Draft"
                    value="draft-ietf-rtcweb-use-cases-and-requirements-06" />

        <format target="http://www.ietf.org/internet-drafts/draft-ietf-rtcweb-use-cases-and-requirements-06.txt"
                type="TXT" />
      </reference>
    </references>
  </back>
</rfc>
